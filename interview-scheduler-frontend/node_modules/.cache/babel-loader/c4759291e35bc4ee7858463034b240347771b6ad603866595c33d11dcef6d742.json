{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import{Container,Row,Col,Card,Button,Alert,Spinner,Form,Modal}from'react-bootstrap';import{toast}from'react-toastify';import slotService from'../../services/slotService';import studentService from'../../services/studentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SlotSelection=()=>{const[searchParams]=useSearchParams();const navigate=useNavigate();const token=searchParams.get('token');const[availableSlots,setAvailableSlots]=useState([]);const[loading,setLoading]=useState(true);const[booking,setBooking]=useState(false);const[selectedSlot,setSelectedSlot]=useState(null);// Resume upload states\nconst[showResumeModal,setShowResumeModal]=useState(false);const[resumeFile,setResumeFile]=useState(null);const[resumeUploading,setResumeUploading]=useState(false);const[currentResumeLink,setCurrentResumeLink]=useState('');const[studentInfo,setStudentInfo]=useState(null);const[resumeRequired,setResumeRequired]=useState(false);const[canSelectSlots,setCanSelectSlots]=useState(false);// Token expiration states\nconst[tokenExpired,setTokenExpired]=useState(false);const[expiredReason,setExpiredReason]=useState('');const[expiredData,setExpiredData]=useState(null);useEffect(()=>{if(!token){navigate('/error');return;}loadData();},[token,navigate]);const loadData=async()=>{try{const[slots,student]=await Promise.all([slotService.getAvailableSlots(),studentService.getStudentByToken(token)]);setAvailableSlots(slots);setStudentInfo(student);setCurrentResumeLink(student.resumeLink||'');// Determine if resume is required and if slots can be selected\nconst hasResume=!!(student.resumeLink&&student.resumeLink.trim());setResumeRequired(!hasResume);setCanSelectSlots(hasResume);// Auto-open modal if no resume\nif(!hasResume){setShowResumeModal(true);}}catch(error){var _error$response,_error$response2;console.error('Error loading data:',error);// Handle expired token (410 status)\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===410){setTokenExpired(true);setExpiredReason(error.response.data.reason||'Unknown reason');setExpiredData(error.response.data);toast.error('This invitation link has expired');}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===404){toast.error('Invalid invitation link');setTimeout(()=>navigate('/error'),2000);}else{var _error$response3,_error$response3$data;const errorMessage=error.userMessage||((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||error.message;toast.error('Failed to load data: '+errorMessage);}}finally{setLoading(false);}};const handleResumeFileSelect=event=>{const file=event.target.files[0];if(!file)return;try{studentService.validateResumeFile(file);setResumeFile(file);}catch(error){toast.error(error.message);event.target.value='';}};// In the success message after resume upload, remove any link display\nconst handleResumeUpload=async()=>{if(!resumeFile){toast.error('Please select a resume file first');return;}setResumeUploading(true);try{const result=await studentService.updateResume(token,resumeFile);// Don't set resumeLink as URL, just mark as uploaded\nsetCurrentResumeLink('uploaded');// Just mark as uploaded\nsetResumeRequired(false);setCanSelectSlots(true);toast.success('ðŸŽ‰ Resume uploaded successfully! You can now select an interview slot.');setShowResumeModal(false);setResumeFile(null);document.getElementById('resume-upload').value='';}catch(error){var _error$response4;console.error('Resume upload error:',error);// Handle expired token during resume upload\nif(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===410){setTokenExpired(true);setExpiredReason(error.response.data.reason||'Token expired during upload');setExpiredData(error.response.data);toast.error('This invitation link has expired');setShowResumeModal(false);}else{var _error$response5,_error$response5$data;const errorMessage=error.userMessage||((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||error.message;toast.error('Failed to update resume: '+errorMessage);}}finally{setResumeUploading(false);}};const handleSlotSelection=async slotId=>{// Double-check resume requirement\nif(!canSelectSlots||!currentResumeLink){toast.warning('Please upload your resume before selecting a slot');setShowResumeModal(true);return;}setSelectedSlot(slotId);setBooking(true);try{const result=await slotService.bookSlot(slotId,token);toast.success('âœ… Interview slot booked successfully!');// Navigate to confirmation with comprehensive data\nnavigate('/student/booking-confirmation',{state:{slotDateTime:result.slotDateTime,meetingLink:result.meetingLink,studentName:result.studentName||studentInfo.name,interviewer:result.interviewer,bookingId:result.bookingId,tokenExpired:result.tokenExpired}});}catch(error){var _error$response6;console.error('Slot booking error:',error);// Handle expired token during booking\nif(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===410){setTokenExpired(true);setExpiredReason(error.response.data.reason||'Token expired during booking');setExpiredData(error.response.data);toast.error('This invitation link has expired');}else{var _error$response7,_error$response7$data;const errorMessage=error.userMessage||((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||error.message;toast.error('Failed to book slot: '+errorMessage);}setSelectedSlot(null);}finally{setBooking(false);}};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};const formatTime=dateString=>{const date=new Date(dateString);return date.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};const isToday=dateString=>{const today=new Date();const slotDate=new Date(dateString);return today.toDateString()===slotDate.toDateString();};const isTomorrow=dateString=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);const slotDate=new Date(dateString);return tomorrow.toDateString()===slotDate.toDateString();};// Show expired token message\nif(tokenExpired){return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#f8f9fa',minHeight:'100vh',paddingTop:'2rem'},children:/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center\",style:{minHeight:'70vh'},children:/*#__PURE__*/_jsx(Card,{className:\"shadow-lg border-0\",style:{maxWidth:'600px',borderRadius:'15px'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center p-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle-fill\",style:{fontSize:'4rem',color:'#dc3545'}})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-danger mb-3\",children:\"Invitation Link Expired\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:\"This invitation link is no longer valid and cannot be used.\"}),/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",className:\"mb-4 text-start\",children:[/*#__PURE__*/_jsxs(Alert.Heading,{className:\"h6\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-2\"}),\"Reason:\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:expiredReason})}),(expiredData===null||expiredData===void 0?void 0:expiredData.expiredAt)&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Expired on: \",new Date(expiredData.expiredAt).toLocaleString()]}),(expiredData===null||expiredData===void 0?void 0:expiredData.studentName)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Student: \",expiredData.studentName]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-dark mb-3\",children:\"What happens next?\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled text-muted text-start\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle text-success me-2\"}),\"Your interview slot has been successfully booked\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-envelope text-info me-2\"}),\"You should have received a confirmation email with details\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-event text-warning me-2\"}),\"Please check your email for the meeting link and time\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 justify-content-center flex-wrap\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>window.location.href='mailto:hr@company.com?subject=Interview Inquiry',children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-envelope me-2\"}),\"Contact HR\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",onClick:()=>window.close(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle me-2\"}),\"Close Window\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-3 border-top\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-1\"}),\"If you need to make changes or have questions, please contact HR.\"]})})]})})})});}if(loading){return/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center\",style:{minHeight:'70vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",size:\"lg\",className:\"mb-3\",style:{color:'#007bff'},children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Loading available slots...\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Verifying your invitation...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f8f9fa',minHeight:'100vh',paddingTop:'2rem',paddingBottom:'2rem'},children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{lg:10,xl:8,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-check\",style:{fontSize:'3rem',color:'#007bff'}})}),/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold text-dark mb-2\",children:\"Select Your Interview Slot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-step \".concat(canSelectSlots?'completed':'active'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step-label\",children:\"Upload Resume\"}),canSelectSlots&&/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill text-success\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-step \".concat(canSelectSlots?'active':'inactive'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"step-label\",children:\"Select Slot\"})]})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-5\",children:resumeRequired?'ðŸ“‹ Step 1: Please upload your resume to continue':'ðŸ“… Step 2: Choose your preferred interview time slot'}),studentInfo&&/*#__PURE__*/_jsx(Card,{className:\"mb-4 border-0 shadow-sm \".concat(resumeRequired?'border-warning':'border-success'),style:{borderRadius:'10px',borderWidth:'2px'},children:/*#__PURE__*/_jsx(Card.Body,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-start\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-1\",children:[\"Welcome, \",studentInfo.name]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-envelope me-2\"}),studentInfo.email]}),currentResumeLink?/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-success fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill me-2\"}),\"Resume uploaded successfully \\u2713\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-warning fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle-fill me-2\"}),\"Resume upload required\"]})})]})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"text-end\",children:/*#__PURE__*/_jsxs(Button,{variant:currentResumeLink?\"success\":\"warning\",size:\"lg\",onClick:()=>setShowResumeModal(true),className:\"fw-bold \".concat(currentResumeLink?\"\":\"pulse-animation\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload me-2\"}),currentResumeLink?'Update Resume':'Upload Resume *']})})]})})}),resumeRequired&&/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",className:\"mb-4 border-0 shadow-sm\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(Alert.Heading,{className:\"h5 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload me-2\"}),\"Resume Upload Required\",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-warning ms-2\",children:\"Step 1\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3\",children:\"Please upload your resume to continue with the interview process. This ensures our hiring team has your latest information.\"}),/*#__PURE__*/_jsxs(Button,{variant:\"warning\",onClick:()=>setShowResumeModal(true),className:\"fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload me-2\"}),\"Upload Resume Now\"]})]}),canSelectSlots&&!resumeRequired&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",className:\"mb-4 border-0 shadow-sm\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(Alert.Heading,{className:\"h5 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill me-2\"}),\"Resume Uploaded Successfully!\",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success ms-2\",children:\"Step 2\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Great! Now you can select your preferred interview time slot from the options below.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Button,{variant:\"info\",className:\"px-3 py-2 border-0\",disabled:true,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock me-2\"}),availableSlots.length,\" Slots Available\"]})})]}),/*#__PURE__*/_jsx(Card,{className:\"shadow-lg border-0\",style:{borderRadius:'15px'},children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-4\",children:availableSlots.length===0?/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",className:\"text-center border-0 shadow-sm\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle\",style:{fontSize:'2.5rem',color:'#856404'}})}),/*#__PURE__*/_jsx(Alert.Heading,{className:\"h4\",children:\"No Available Slots\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3 fs-6\",children:\"There are currently no available interview slots.\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-telephone me-2\"}),\"Please check back later or contact HR for assistance.\"]})]}):/*#__PURE__*/_jsx(Row,{className:\"g-4\",children:availableSlots.map(slot=>/*#__PURE__*/_jsx(Col,{md:6,lg:4,children:/*#__PURE__*/_jsx(Card,{className:\"h-100 slot-card \".concat(selectedSlot===slot.Id?'border-primary shadow-lg':'border-light shadow-sm',\" \").concat(!canSelectSlots?'slot-disabled':''),style:{cursor:canSelectSlots?'pointer':'not-allowed',borderRadius:'12px',transition:'all 0.3s ease',transform:selectedSlot===slot.Id?'translateY(-5px)':'none',opacity:canSelectSlots?1:0.5,filter:canSelectSlots?'none':'grayscale(50%)'},onClick:()=>canSelectSlots&&!booking&&setSelectedSlot(slot.Id),onMouseEnter:e=>{if(canSelectSlots&&!booking){e.currentTarget.style.transform='translateY(-3px)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0,123,255,0.15)';}},onMouseLeave:e=>{if(selectedSlot!==slot.Id&&!booking&&canSelectSlots){e.currentTarget.style.transform='none';e.currentTarget.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)';}},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center p-4 position-relative\",children:[!canSelectSlots&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center\",style:{backgroundColor:'rgba(255,193,7,0.9)',borderRadius:'12px',zIndex:1},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-dark\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload\",style:{fontSize:'2rem'}}),/*#__PURE__*/_jsx(\"div\",{className:\"small mt-2 fw-bold\",children:\"Upload Resume First\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[isToday(slot.SlotDateTime)&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success mb-2\",children:\"Today\"}),isTomorrow(slot.SlotDateTime)&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-info mb-2\",children:\"Tomorrow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-date\",style:{fontSize:'2rem',color:selectedSlot===slot.Id?'#007bff':'#6c757d'}})}),/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold text-dark mb-2\",children:formatDate(slot.SlotDateTime)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-3 fs-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock me-2\"}),formatTime(slot.SlotDateTime)]}),/*#__PURE__*/_jsx(Button,{variant:booking&&selectedSlot===slot.Id?'primary':!canSelectSlots?'outline-warning':selectedSlot===slot.Id?'primary':'outline-primary',size:\"lg\",className:\"w-100 fw-bold\",style:{borderRadius:'8px',padding:'12px'},onClick:e=>{e.stopPropagation();if(!canSelectSlots){setShowResumeModal(true);}else{handleSlotSelection(slot.Id);}},disabled:booking,children:booking&&selectedSlot===slot.Id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",className:\"me-2\"}),\"Booking...\"]}):!canSelectSlots?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload me-2\"}),\"Upload Resume First\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle me-2\"}),\"Select This Slot\"]})})]})})},slot.Id))})})}),/*#__PURE__*/_jsx(Card,{className:\"mt-4 border-0 shadow-sm\",style:{borderRadius:'10px',backgroundColor:'#f8f9fa'},children:/*#__PURE__*/_jsx(Card.Body,{className:\"text-center py-3\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-2\"}),\"Need help? Contact us at \",/*#__PURE__*/_jsx(\"strong\",{children:\"hr@b2world.in\"}),\" or call \",/*#__PURE__*/_jsx(\"strong\",{children:\"(+91) 7482909107\"})]})})})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showResumeModal,onHide:()=>!resumeRequired&&setShowResumeModal(false),centered:true,backdrop:resumeRequired?'static':true,keyboard:!resumeRequired,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:!resumeRequired,children:/*#__PURE__*/_jsxs(Modal.Title,{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-file-earmark-arrow-up me-2\"}),resumeRequired?'Resume Upload Required':'Update Resume',resumeRequired&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger ms-2\",children:\"Step 1\"})]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[resumeRequired?/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Resume upload is mandatory.\"}),\" Please upload your resume to proceed with slot selection.\"]}):currentResumeLink?/*#__PURE__*/_jsxs(Alert,{variant:\"success\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle me-2\"}),\"You have a resume uploaded. Uploading a new one will replace the existing file.\"]}):null,/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-bold\",children:\"Select Resume File *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"resume-upload\",type:\"file\",accept:\".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\",onChange:handleResumeFileSelect,required:resumeRequired,size:\"lg\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"\\uD83D\\uDCC4 Supported formats: PDF, DOC, DOCX (Max size: 5MB)\"})]}),resumeFile&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2705 Selected file:\"}),\" \",resumeFile.name,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\uD83D\\uDCCF Size: \",studentService.formatFileSize(resumeFile.size)]})]})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:!resumeRequired&&/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>setShowResumeModal(false),disabled:resumeUploading,children:\"Cancel\"})}),/*#__PURE__*/_jsx(Button,{variant:\"success\",size:\"lg\",onClick:handleResumeUpload,disabled:!resumeFile||resumeUploading,className:\"fw-bold\",children:resumeUploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",className:\"me-2\"}),\"Uploading...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-upload me-2\"}),resumeRequired?'ðŸš€ Upload Resume & Continue':'Update Resume']})})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n                .pulse-animation {\\n                    animation: pulse 2s infinite;\\n                }\\n                \\n                @keyframes pulse {\\n                    0% { transform: scale(1); }\\n                    50% { transform: scale(1.05); }\\n                    100% { transform: scale(1); }\\n                }\\n                \\n                .progress-step {\\n                    display: flex;\\n                    flex-direction: column;\\n                    align-items: center;\\n                    position: relative;\\n                }\\n                \\n                .progress-step .step-number {\\n                    width: 40px;\\n                    height: 40px;\\n                    border-radius: 50%;\\n                    display: flex;\\n                    align-items: center;\\n                    justify-content: center;\\n                    font-weight: bold;\\n                    margin-bottom: 8px;\\n                }\\n                \\n                .progress-step.active .step-number {\\n                    background-color: #007bff;\\n                    color: white;\\n                }\\n                \\n                .progress-step.completed .step-number {\\n                    background-color: #28a745;\\n                    color: white;\\n                }\\n                \\n                .progress-step.inactive .step-number {\\n                    background-color: #e9ecef;\\n                    color: #6c757d;\\n                }\\n                \\n                .progress-step .step-label {\\n                    font-size: 0.9rem;\\n                    font-weight: 600;\\n                }\\n                \\n                .progress-line {\\n                    width: 100px;\\n                    height: 2px;\\n                    background-color: #e9ecef;\\n                    margin: 0 20px;\\n                    margin-top: 20px;\\n                }\\n                \\n                .slot-disabled {\\n                    position: relative;\\n                }\\n            \"})]});};export default SlotSelection;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","Container","Row","Col","Card","Button","Alert","Spinner","Form","Modal","toast","slotService","studentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SlotSelection","searchParams","navigate","token","get","availableSlots","setAvailableSlots","loading","setLoading","booking","setBooking","selectedSlot","setSelectedSlot","showResumeModal","setShowResumeModal","resumeFile","setResumeFile","resumeUploading","setResumeUploading","currentResumeLink","setCurrentResumeLink","studentInfo","setStudentInfo","resumeRequired","setResumeRequired","canSelectSlots","setCanSelectSlots","tokenExpired","setTokenExpired","expiredReason","setExpiredReason","expiredData","setExpiredData","loadData","slots","student","Promise","all","getAvailableSlots","getStudentByToken","resumeLink","hasResume","trim","error","_error$response","_error$response2","console","response","status","data","reason","setTimeout","_error$response3","_error$response3$data","errorMessage","userMessage","message","handleResumeFileSelect","event","file","target","files","validateResumeFile","value","handleResumeUpload","result","updateResume","success","document","getElementById","_error$response4","_error$response5","_error$response5$data","handleSlotSelection","slotId","warning","bookSlot","state","slotDateTime","meetingLink","studentName","name","interviewer","bookingId","_error$response6","_error$response7","_error$response7$data","formatDate","dateString","date","Date","toLocaleDateString","weekday","year","month","day","formatTime","toLocaleTimeString","hour","minute","hour12","isToday","today","slotDate","toDateString","isTomorrow","tomorrow","setDate","getDate","style","backgroundColor","minHeight","paddingTop","children","className","maxWidth","borderRadius","Body","fontSize","color","variant","Heading","expiredAt","toLocaleString","onClick","window","location","href","close","animation","role","size","paddingBottom","lg","xl","concat","borderWidth","md","email","disabled","length","map","slot","Id","cursor","transition","transform","opacity","filter","onMouseEnter","e","currentTarget","boxShadow","onMouseLeave","zIndex","SlotDateTime","padding","stopPropagation","as","show","onHide","centered","backdrop","keyboard","Header","closeButton","Title","Group","Label","Control","id","type","accept","onChange","required","Text","formatFileSize","Footer"],"sources":["E:/Downloads/interview-scheduler/interview-scheduler-frontend/src/components/student/SlotSelection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { Container, Row, Col, Card, Button, Alert, Spinner, Form, Modal } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport slotService from '../../services/slotService';\r\nimport studentService from '../../services/studentService';\r\n\r\nconst SlotSelection = () => {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const token = searchParams.get('token');\r\n    \r\n    const [availableSlots, setAvailableSlots] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [booking, setBooking] = useState(false);\r\n    const [selectedSlot, setSelectedSlot] = useState(null);\r\n    \r\n    // Resume upload states\r\n    const [showResumeModal, setShowResumeModal] = useState(false);\r\n    const [resumeFile, setResumeFile] = useState(null);\r\n    const [resumeUploading, setResumeUploading] = useState(false);\r\n    const [currentResumeLink, setCurrentResumeLink] = useState('');\r\n    const [studentInfo, setStudentInfo] = useState(null);\r\n    const [resumeRequired, setResumeRequired] = useState(false);\r\n    const [canSelectSlots, setCanSelectSlots] = useState(false);\r\n    \r\n    // Token expiration states\r\n    const [tokenExpired, setTokenExpired] = useState(false);\r\n    const [expiredReason, setExpiredReason] = useState('');\r\n    const [expiredData, setExpiredData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n            navigate('/error');\r\n            return;\r\n        }\r\n        loadData();\r\n    }, [token, navigate]);\r\n\r\n    const loadData = async () => {\r\n        try {\r\n            const [slots, student] = await Promise.all([\r\n                slotService.getAvailableSlots(),\r\n                studentService.getStudentByToken(token)\r\n            ]);\r\n            setAvailableSlots(slots);\r\n            setStudentInfo(student);\r\n            setCurrentResumeLink(student.resumeLink || '');\r\n            \r\n            // Determine if resume is required and if slots can be selected\r\n            const hasResume = !!(student.resumeLink && student.resumeLink.trim());\r\n            setResumeRequired(!hasResume);\r\n            setCanSelectSlots(hasResume);\r\n            \r\n            // Auto-open modal if no resume\r\n            if (!hasResume) {\r\n                setShowResumeModal(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading data:', error);\r\n            \r\n            // Handle expired token (410 status)\r\n            if (error.response?.status === 410) {\r\n                setTokenExpired(true);\r\n                setExpiredReason(error.response.data.reason || 'Unknown reason');\r\n                setExpiredData(error.response.data);\r\n                toast.error('This invitation link has expired');\r\n            } else if (error.response?.status === 404) {\r\n                toast.error('Invalid invitation link');\r\n                setTimeout(() => navigate('/error'), 2000);\r\n            } else {\r\n                const errorMessage = error.userMessage || error.response?.data?.error || error.message;\r\n                toast.error('Failed to load data: ' + errorMessage);\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleResumeFileSelect = (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        try {\r\n            studentService.validateResumeFile(file);\r\n            setResumeFile(file);\r\n        } catch (error) {\r\n            toast.error(error.message);\r\n            event.target.value = '';\r\n        }\r\n    };\r\n\r\n    // In the success message after resume upload, remove any link display\r\nconst handleResumeUpload = async () => {\r\n  if (!resumeFile) {\r\n    toast.error('Please select a resume file first');\r\n    return;\r\n  }\r\n\r\n  setResumeUploading(true);\r\n  try {\r\n    const result = await studentService.updateResume(token, resumeFile);\r\n    // Don't set resumeLink as URL, just mark as uploaded\r\n    setCurrentResumeLink('uploaded'); // Just mark as uploaded\r\n    setResumeRequired(false);\r\n    setCanSelectSlots(true);\r\n    toast.success('ðŸŽ‰ Resume uploaded successfully! You can now select an interview slot.');\r\n    setShowResumeModal(false);\r\n    setResumeFile(null);\r\n    document.getElementById('resume-upload').value = '';\r\n  } catch (error) {\r\n            console.error('Resume upload error:', error);\r\n            \r\n            // Handle expired token during resume upload\r\n            if (error.response?.status === 410) {\r\n                setTokenExpired(true);\r\n                setExpiredReason(error.response.data.reason || 'Token expired during upload');\r\n                setExpiredData(error.response.data);\r\n                toast.error('This invitation link has expired');\r\n                setShowResumeModal(false);\r\n            } else {\r\n                const errorMessage = error.userMessage || error.response?.data?.error || error.message;\r\n                toast.error('Failed to update resume: ' + errorMessage);\r\n            }\r\n        } finally {\r\n            setResumeUploading(false);\r\n        }\r\n    };\r\n\r\n    const handleSlotSelection = async (slotId) => {\r\n        // Double-check resume requirement\r\n        if (!canSelectSlots || !currentResumeLink) {\r\n            toast.warning('Please upload your resume before selecting a slot');\r\n            setShowResumeModal(true);\r\n            return;\r\n        }\r\n\r\n        setSelectedSlot(slotId);\r\n        setBooking(true);\r\n        try {\r\n            const result = await slotService.bookSlot(slotId, token);\r\n            toast.success('âœ… Interview slot booked successfully!');\r\n            \r\n            // Navigate to confirmation with comprehensive data\r\n            navigate('/student/booking-confirmation', { \r\n                state: { \r\n                    slotDateTime: result.slotDateTime,\r\n                    meetingLink: result.meetingLink,\r\n                    studentName: result.studentName || studentInfo.name,\r\n                    interviewer: result.interviewer,\r\n                    bookingId: result.bookingId,\r\n                    tokenExpired: result.tokenExpired\r\n                } \r\n            });\r\n        } catch (error) {\r\n            console.error('Slot booking error:', error);\r\n            \r\n            // Handle expired token during booking\r\n            if (error.response?.status === 410) {\r\n                setTokenExpired(true);\r\n                setExpiredReason(error.response.data.reason || 'Token expired during booking');\r\n                setExpiredData(error.response.data);\r\n                toast.error('This invitation link has expired');\r\n            } else {\r\n                const errorMessage = error.userMessage || error.response?.data?.error || error.message;\r\n                toast.error('Failed to book slot: ' + errorMessage);\r\n            }\r\n            setSelectedSlot(null);\r\n        } finally {\r\n            setBooking(false);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('en-US', {\r\n            weekday: 'long',\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatTime = (dateString) => {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleTimeString('en-US', {\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            hour12: true\r\n        });\r\n    };\r\n\r\n    const isToday = (dateString) => {\r\n        const today = new Date();\r\n        const slotDate = new Date(dateString);\r\n        return today.toDateString() === slotDate.toDateString();\r\n    };\r\n\r\n    const isTomorrow = (dateString) => {\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(tomorrow.getDate() + 1);\r\n        const slotDate = new Date(dateString);\r\n        return tomorrow.toDateString() === slotDate.toDateString();\r\n    };\r\n\r\n    // Show expired token message\r\n    if (tokenExpired) {\r\n        return (\r\n            <div style={{ backgroundColor: '#f8f9fa', minHeight: '100vh', paddingTop: '2rem' }}>\r\n                <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '70vh' }}>\r\n                    <Card className=\"shadow-lg border-0\" style={{ maxWidth: '600px', borderRadius: '15px' }}>\r\n                        <Card.Body className=\"text-center p-5\">\r\n                            <div className=\"mb-4\">\r\n                                <i className=\"bi bi-exclamation-triangle-fill\" \r\n                                   style={{ fontSize: '4rem', color: '#dc3545' }}></i>\r\n                            </div>\r\n                            <h3 className=\"text-danger mb-3\">Invitation Link Expired</h3>\r\n                            <p className=\"text-muted mb-4\">\r\n                                This invitation link is no longer valid and cannot be used.\r\n                            </p>\r\n                            \r\n                            <Alert variant=\"warning\" className=\"mb-4 text-start\">\r\n                                <Alert.Heading className=\"h6\">\r\n                                    <i className=\"bi bi-info-circle me-2\"></i>Reason:\r\n                                </Alert.Heading>\r\n                                <p className=\"mb-2\">\r\n                                    <strong>{expiredReason}</strong>\r\n                                </p>\r\n                                {expiredData?.expiredAt && (\r\n                                    <small className=\"text-muted\">\r\n                                        Expired on: {new Date(expiredData.expiredAt).toLocaleString()}\r\n                                    </small>\r\n                                )}\r\n                                {expiredData?.studentName && (\r\n                                    <div className=\"mt-2\">\r\n                                        <small className=\"text-muted\">\r\n                                            Student: {expiredData.studentName}\r\n                                        </small>\r\n                                    </div>\r\n                                )}\r\n                            </Alert>\r\n\r\n                            <div className=\"mb-4\">\r\n                                <h6 className=\"text-dark mb-3\">What happens next?</h6>\r\n                                <ul className=\"list-unstyled text-muted text-start\">\r\n                                    <li className=\"mb-2\">\r\n                                        <i className=\"bi bi-check-circle text-success me-2\"></i>\r\n                                        Your interview slot has been successfully booked\r\n                                    </li>\r\n                                    <li className=\"mb-2\">\r\n                                        <i className=\"bi bi-envelope text-info me-2\"></i>\r\n                                        You should have received a confirmation email with details\r\n                                    </li>\r\n                                    <li className=\"mb-2\">\r\n                                        <i className=\"bi bi-calendar-event text-warning me-2\"></i>\r\n                                        Please check your email for the meeting link and time\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                            <div className=\"d-flex gap-2 justify-content-center flex-wrap\">\r\n                                <Button \r\n                                    variant=\"primary\" \r\n                                    onClick={() => window.location.href = 'mailto:hr@company.com?subject=Interview Inquiry'}\r\n                                >\r\n                                    <i className=\"bi bi-envelope me-2\"></i>\r\n                                    Contact HR\r\n                                </Button>\r\n                                <Button \r\n                                    variant=\"outline-secondary\" \r\n                                    onClick={() => window.close()}\r\n                                >\r\n                                    <i className=\"bi bi-x-circle me-2\"></i>\r\n                                    Close Window\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div className=\"mt-4 pt-3 border-top\">\r\n                                <small className=\"text-muted\">\r\n                                    <i className=\"bi bi-info-circle me-1\"></i>\r\n                                    If you need to make changes or have questions, please contact HR.\r\n                                </small>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '70vh' }}>\r\n                <div className=\"text-center\">\r\n                    <Spinner animation=\"border\" role=\"status\" size=\"lg\" className=\"mb-3\" style={{ color: '#007bff' }}>\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </Spinner>\r\n                    <h5 className=\"text-muted\">Loading available slots...</h5>\r\n                    <small className=\"text-muted\">Verifying your invitation...</small>\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{ backgroundColor: '#f8f9fa', minHeight: '100vh', paddingTop: '2rem', paddingBottom: '2rem' }}>\r\n            <Container>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col lg={10} xl={8}>\r\n                        {/* Header Section */}\r\n                        <div className=\"text-center mb-4\">\r\n                            <div className=\"mb-3\">\r\n                                <i className=\"bi bi-calendar-check\" style={{ fontSize: '3rem', color: '#007bff' }}></i>\r\n                            </div>\r\n                            <h2 className=\"fw-bold text-dark mb-2\">Select Your Interview Slot</h2>\r\n                            \r\n                            {/* Progress Indicator */}\r\n                            <div className=\"mb-4\">\r\n                                <div className=\"d-flex justify-content-center align-items-center mb-3\">\r\n                                    <div className={`progress-step ${canSelectSlots ? 'completed' : 'active'}`}>\r\n                                        <div className=\"step-number\">1</div>\r\n                                        <div className=\"step-label\">Upload Resume</div>\r\n                                        {canSelectSlots && <i className=\"bi bi-check-circle-fill text-success\"></i>}\r\n                                    </div>\r\n                                    <div className=\"progress-line\"></div>\r\n                                    <div className={`progress-step ${canSelectSlots ? 'active' : 'inactive'}`}>\r\n                                        <div className=\"step-number\">2</div>\r\n                                        <div className=\"step-label\">Select Slot</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p className=\"text-muted fs-5\">\r\n                                {resumeRequired ? \r\n                                    'ðŸ“‹ Step 1: Please upload your resume to continue' :\r\n                                    'ðŸ“… Step 2: Choose your preferred interview time slot'\r\n                                }\r\n                            </p>\r\n                            \r\n                            {/* Student Info & Resume Section */}\r\n                            {studentInfo && (\r\n                                <Card className={`mb-4 border-0 shadow-sm ${resumeRequired ? 'border-warning' : 'border-success'}`} \r\n                                      style={{ borderRadius: '10px', borderWidth: '2px' }}>\r\n                                    <Card.Body className=\"py-3\">\r\n                                        <Row className=\"align-items-center\">\r\n                                            <Col md={8}>\r\n                                                <div className=\"text-start\">\r\n                                                    <h6 className=\"mb-1\">Welcome, {studentInfo.name}</h6>\r\n                                                    <small className=\"text-muted\">\r\n                                                        <i className=\"bi bi-envelope me-2\"></i>{studentInfo.email}\r\n                                                    </small>\r\n                                                    {currentResumeLink ? (\r\n                                                        <div className=\"mt-1\">\r\n                                                            <small className=\"text-success fw-bold\">\r\n                                                                <i className=\"bi bi-check-circle-fill me-2\"></i>\r\n                                                                Resume uploaded successfully âœ“\r\n                                                            </small>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <div className=\"mt-1\">\r\n                                                            <small className=\"text-warning fw-bold\">\r\n                                                                <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>\r\n                                                                Resume upload required\r\n                                                            </small>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </Col>\r\n                                            <Col md={4} className=\"text-end\">\r\n                                                <Button\r\n                                                    variant={currentResumeLink ? \"success\" : \"warning\"}\r\n                                                    size=\"lg\"\r\n                                                    onClick={() => setShowResumeModal(true)}\r\n                                                    className={`fw-bold ${currentResumeLink ? \"\" : \"pulse-animation\"}`}\r\n                                                >\r\n                                                    <i className=\"bi bi-upload me-2\"></i>\r\n                                                    {currentResumeLink ? 'Update Resume' : 'Upload Resume *'}\r\n                                                </Button>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            )}\r\n\r\n                            {/* Resume Required Alert */}\r\n                            {resumeRequired && (\r\n                                <Alert variant=\"warning\" className=\"mb-4 border-0 shadow-sm\" style={{ borderRadius: '10px' }}>\r\n                                    <Alert.Heading className=\"h5 d-flex align-items-center\">\r\n                                        <i className=\"bi bi-upload me-2\"></i>\r\n                                        Resume Upload Required\r\n                                        <span className=\"badge bg-warning ms-2\">Step 1</span>\r\n                                    </Alert.Heading>\r\n                                    <p className=\"mb-3\">\r\n                                        Please upload your resume to continue with the interview process. \r\n                                        This ensures our hiring team has your latest information.\r\n                                    </p>\r\n                                    <Button \r\n                                        variant=\"warning\" \r\n                                        onClick={() => setShowResumeModal(true)}\r\n                                        className=\"fw-bold\"\r\n                                    >\r\n                                        <i className=\"bi bi-upload me-2\"></i>\r\n                                        Upload Resume Now\r\n                                    </Button>\r\n                                </Alert>\r\n                            )}\r\n\r\n                            {/* Success Alert when resume is uploaded */}\r\n                            {canSelectSlots && !resumeRequired && (\r\n                                <Alert variant=\"success\" className=\"mb-4 border-0 shadow-sm\" style={{ borderRadius: '10px' }}>\r\n                                    <Alert.Heading className=\"h5 d-flex align-items-center\">\r\n                                        <i className=\"bi bi-check-circle-fill me-2\"></i>\r\n                                        Resume Uploaded Successfully!\r\n                                        <span className=\"badge bg-success ms-2\">Step 2</span>\r\n                                    </Alert.Heading>\r\n                                    <p className=\"mb-0\">\r\n                                        Great! Now you can select your preferred interview time slot from the options below.\r\n                                    </p>\r\n                                </Alert>\r\n                            )}\r\n\r\n                            <div className=\"mb-3\">\r\n                                <Button\r\n                                    variant=\"info\"\r\n                                    className=\"px-3 py-2 border-0\"\r\n                                    disabled\r\n                                >\r\n                                    <i className=\"bi bi-clock me-2\"></i>\r\n                                    {availableSlots.length} Slots Available\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Main Content Card */}\r\n                        <Card className=\"shadow-lg border-0\" style={{ borderRadius: '15px' }}>\r\n                            <Card.Body className=\"p-4\">\r\n                                {availableSlots.length === 0 ? (\r\n                                    <Alert variant=\"warning\" className=\"text-center border-0 shadow-sm\" style={{ borderRadius: '10px' }}>\r\n                                        <div className=\"mb-3\">\r\n                                            <i className=\"bi bi-exclamation-triangle\" style={{ fontSize: '2.5rem', color: '#856404' }}></i>\r\n                                        </div>\r\n                                        <Alert.Heading className=\"h4\">No Available Slots</Alert.Heading>\r\n                                        <p className=\"mb-3 fs-6\">There are currently no available interview slots.</p>\r\n                                        <hr />\r\n                                        <p className=\"mb-0\">\r\n                                            <i className=\"bi bi-telephone me-2\"></i>\r\n                                            Please check back later or contact HR for assistance.\r\n                                        </p>\r\n                                    </Alert>\r\n                                ) : (\r\n                                    <Row className=\"g-4\">\r\n                                        {availableSlots.map(slot => (\r\n                                            <Col md={6} lg={4} key={slot.Id}>\r\n                                                <Card \r\n                                                    className={`h-100 slot-card ${selectedSlot === slot.Id ? 'border-primary shadow-lg' : 'border-light shadow-sm'} ${!canSelectSlots ? 'slot-disabled' : ''}`}\r\n                                                    style={{ \r\n                                                        cursor: canSelectSlots ? 'pointer' : 'not-allowed',\r\n                                                        borderRadius: '12px',\r\n                                                        transition: 'all 0.3s ease',\r\n                                                        transform: selectedSlot === slot.Id ? 'translateY(-5px)' : 'none',\r\n                                                        opacity: canSelectSlots ? 1 : 0.5,\r\n                                                        filter: canSelectSlots ? 'none' : 'grayscale(50%)'\r\n                                                    }}\r\n                                                    onClick={() => canSelectSlots && !booking && setSelectedSlot(slot.Id)}\r\n                                                    onMouseEnter={(e) => {\r\n                                                        if (canSelectSlots && !booking) {\r\n                                                            e.currentTarget.style.transform = 'translateY(-3px)';\r\n                                                            e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,123,255,0.15)';\r\n                                                        }\r\n                                                    }}\r\n                                                    onMouseLeave={(e) => {\r\n                                                        if (selectedSlot !== slot.Id && !booking && canSelectSlots) {\r\n                                                            e.currentTarget.style.transform = 'none';\r\n                                                            e.currentTarget.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';\r\n                                                        }\r\n                                                    }}\r\n                                                >\r\n                                                    <Card.Body className=\"text-center p-4 position-relative\">\r\n                                                        {/* Resume Required Overlay */}\r\n                                                        {!canSelectSlots && (\r\n                                                            <div className=\"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center\"\r\n                                                                 style={{ backgroundColor: 'rgba(255,193,7,0.9)', borderRadius: '12px', zIndex: 1 }}>\r\n                                                                <div className=\"text-center text-dark\">\r\n                                                                    <i className=\"bi bi-upload\" style={{ fontSize: '2rem' }}></i>\r\n                                                                    <div className=\"small mt-2 fw-bold\">Upload Resume First</div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* Date Badge */}\r\n                                                        <div className=\"mb-3\">\r\n                                                            {isToday(slot.SlotDateTime) && (\r\n                                                                <span className=\"badge bg-success mb-2\">Today</span>\r\n                                                            )}\r\n                                                            {isTomorrow(slot.SlotDateTime) && (\r\n                                                                <span className=\"badge bg-info mb-2\">Tomorrow</span>\r\n                                                            )}\r\n                                                        </div>\r\n\r\n                                                        {/* Calendar Icon */}\r\n                                                        <div className=\"mb-3\">\r\n                                                            <i className=\"bi bi-calendar-date\" \r\n                                                               style={{ \r\n                                                                   fontSize: '2rem', \r\n                                                                   color: selectedSlot === slot.Id ? '#007bff' : '#6c757d' \r\n                                                               }}></i>\r\n                                                        </div>\r\n\r\n                                                        {/* Date */}\r\n                                                        <h5 className=\"fw-bold text-dark mb-2\">\r\n                                                            {formatDate(slot.SlotDateTime)}\r\n                                                        </h5>\r\n\r\n                                                        {/* Time */}\r\n                                                        <p className=\"text-muted mb-3 fs-5\">\r\n                                                            <i className=\"bi bi-clock me-2\"></i>\r\n                                                            {formatTime(slot.SlotDateTime)}\r\n                                                        </p>\r\n\r\n                                                        {/* Select Button */}\r\n                                                        <Button\r\n                                                            variant={\r\n                                                                booking && selectedSlot === slot.Id ? 'primary' :\r\n                                                                !canSelectSlots ? 'outline-warning' :\r\n                                                                selectedSlot === slot.Id ? 'primary' : 'outline-primary'\r\n                                                            }\r\n                                                            size=\"lg\"\r\n                                                            className=\"w-100 fw-bold\"\r\n                                                            style={{ borderRadius: '8px', padding: '12px' }}\r\n                                                            onClick={(e) => {\r\n                                                                e.stopPropagation();\r\n                                                                if (!canSelectSlots) {\r\n                                                                    setShowResumeModal(true);\r\n                                                                } else {\r\n                                                                    handleSlotSelection(slot.Id);\r\n                                                                }\r\n                                                            }}\r\n                                                            disabled={booking}\r\n                                                        >\r\n                                                            {booking && selectedSlot === slot.Id ? (\r\n                                                                <>\r\n                                                                    <Spinner\r\n                                                                        as=\"span\"\r\n                                                                        animation=\"border\"\r\n                                                                        size=\"sm\"\r\n                                                                        role=\"status\"\r\n                                                                        aria-hidden=\"true\"\r\n                                                                        className=\"me-2\"\r\n                                                                    />\r\n                                                                    Booking...\r\n                                                                </>\r\n                                                            ) : !canSelectSlots ? (\r\n                                                                <>\r\n                                                                    <i className=\"bi bi-upload me-2\"></i>\r\n                                                                    Upload Resume First\r\n                                                                </>\r\n                                                            ) : (\r\n                                                                <>\r\n                                                                    <i className=\"bi bi-check-circle me-2\"></i>\r\n                                                                    Select This Slot\r\n                                                                </>\r\n                                                            )}\r\n                                                        </Button>\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Col>\r\n                                        ))}\r\n                                    </Row>\r\n                                )}\r\n                            </Card.Body>\r\n                        </Card>\r\n\r\n                        {/* Help Section */}\r\n                        <Card className=\"mt-4 border-0 shadow-sm\" style={{ borderRadius: '10px', backgroundColor: '#f8f9fa' }}>\r\n                            <Card.Body className=\"text-center py-3\">\r\n                                <small className=\"text-muted\">\r\n                                    <i className=\"bi bi-info-circle me-2\"></i>\r\n                                    Need help? Contact us at <strong>hr@b2world.in</strong> or call <strong>(+91) 7482909107</strong>\r\n                                </small>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n\r\n            {/* Resume Upload Modal */}\r\n            <Modal \r\n                show={showResumeModal} \r\n                onHide={() => !resumeRequired && setShowResumeModal(false)} \r\n                centered\r\n                backdrop={resumeRequired ? 'static' : true}\r\n                keyboard={!resumeRequired}\r\n                size=\"lg\"\r\n            >\r\n                <Modal.Header closeButton={!resumeRequired}>\r\n                    <Modal.Title className=\"d-flex align-items-center\">\r\n                        <i className=\"bi bi-file-earmark-arrow-up me-2\"></i>\r\n                        {resumeRequired ? 'Resume Upload Required' : 'Update Resume'}\r\n                        {resumeRequired && <span className=\"badge bg-danger ms-2\">Step 1</span>}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {resumeRequired ? (\r\n                        <Alert variant=\"info\" className=\"mb-3\">\r\n                            <i className=\"bi bi-info-circle me-2\"></i>\r\n                            <strong>Resume upload is mandatory.</strong> Please upload your resume to proceed with slot selection.\r\n                        </Alert>\r\n                    ) : currentResumeLink ? (\r\n                        <Alert variant=\"success\" className=\"mb-3\">\r\n                            <i className=\"bi bi-check-circle me-2\"></i>\r\n                            You have a resume uploaded. Uploading a new one will replace the existing file.\r\n                        </Alert>\r\n                    ) : null}\r\n\r\n                    <Form>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label className=\"fw-bold\">Select Resume File *</Form.Label>\r\n                            <Form.Control\r\n                                id=\"resume-upload\"\r\n                                type=\"file\"\r\n                                accept=\".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\r\n                                onChange={handleResumeFileSelect}\r\n                                required={resumeRequired}\r\n                                size=\"lg\"\r\n                            />\r\n                            <Form.Text className=\"text-muted\">\r\n                                ðŸ“„ Supported formats: PDF, DOC, DOCX (Max size: 5MB)\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        {resumeFile && (\r\n                            <Alert variant=\"success\" className=\"mb-3\">\r\n                                <strong>âœ… Selected file:</strong> {resumeFile.name}\r\n                                <br />\r\n                                <small>ðŸ“ Size: {studentService.formatFileSize(resumeFile.size)}</small>\r\n                            </Alert>\r\n                        )}\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer className=\"d-flex justify-content-between\">\r\n                    <div>\r\n                        {!resumeRequired && (\r\n                            <Button variant=\"outline-secondary\" onClick={() => setShowResumeModal(false)} disabled={resumeUploading}>\r\n                                Cancel\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                    <Button \r\n                        variant=\"success\"\r\n                        size=\"lg\"\r\n                        onClick={handleResumeUpload}\r\n                        disabled={!resumeFile || resumeUploading}\r\n                        className=\"fw-bold\"\r\n                    >\r\n                        {resumeUploading ? (\r\n                            <>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                    className=\"me-2\"\r\n                                />\r\n                                Uploading...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <i className=\"bi bi-upload me-2\"></i>\r\n                                {resumeRequired ? 'ðŸš€ Upload Resume & Continue' : 'Update Resume'}\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            {/* Custom CSS for animations and progress steps */}\r\n            <style jsx>{`\r\n                .pulse-animation {\r\n                    animation: pulse 2s infinite;\r\n                }\r\n                \r\n                @keyframes pulse {\r\n                    0% { transform: scale(1); }\r\n                    50% { transform: scale(1.05); }\r\n                    100% { transform: scale(1); }\r\n                }\r\n                \r\n                .progress-step {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    align-items: center;\r\n                    position: relative;\r\n                }\r\n                \r\n                .progress-step .step-number {\r\n                    width: 40px;\r\n                    height: 40px;\r\n                    border-radius: 50%;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    font-weight: bold;\r\n                    margin-bottom: 8px;\r\n                }\r\n                \r\n                .progress-step.active .step-number {\r\n                    background-color: #007bff;\r\n                    color: white;\r\n                }\r\n                \r\n                .progress-step.completed .step-number {\r\n                    background-color: #28a745;\r\n                    color: white;\r\n                }\r\n                \r\n                .progress-step.inactive .step-number {\r\n                    background-color: #e9ecef;\r\n                    color: #6c757d;\r\n                }\r\n                \r\n                .progress-step .step-label {\r\n                    font-size: 0.9rem;\r\n                    font-weight: 600;\r\n                }\r\n                \r\n                .progress-line {\r\n                    width: 100px;\r\n                    height: 2px;\r\n                    background-color: #e9ecef;\r\n                    margin: 0 20px;\r\n                    margin-top: 20px;\r\n                }\r\n                \r\n                .slot-disabled {\r\n                    position: relative;\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SlotSelection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}